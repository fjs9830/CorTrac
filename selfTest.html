<!DOCTYPE html>

<html>

<body bgcolor="#89cff0 ">

<h1>Test</h1>

<!--Sends the user back to the mainpage -->
<form action="https://fjs9830.github.io/CorTrac/mainpage">
    <input type="submit" value="Back" />
</form>
    <h2>Press 1 to skip the test.</h2>
<script>
       function questions(category, number) {
  question = -1;
  while (question < 1 || question > 5) {
    question = parseInt(prompt(category[number]));
    if (question > 5 || question < 1) {
      console.log("Choose a number between 1 and 5.");
    }
  }
  return question

}
originalQuestions = ["I feel sad and low energy very often.","I am exceptionally scared of interacting with people."];
depressionQuestions = ["I feel suicidal often.", "I don't find myself enjoying the things I used to.", "I have been regularly sad for over six months.", "I rarely have the energy to do anything."];
anxietyQuestions = ["I have had a panic attack recently.","The thought of talking to people scares me.","Fear of social interaction occupies much of my thoughts."]
function test(mentalQuestions,original,name,count){
miniMat = [];
ticks = 0;
number = 0;
q1 = questions(original, count);
if (q1 >= 3) {
  miniMat.push(q1);
  while (ticks + 1 <= mentalQuestions.length) {
    question=questions(mentalQuestions, ticks);
    ticks++;
    miniMat.push(question);
  }
  ticks = 0;
}
while (ticks <= mentalQuestions.length) {
  number = number + miniMat[ticks];
  ticks++;
}
number = number / (mentalQuestions.length + 1);
if(isNaN(number)==true){
number=q1;
}
if(number>3&&number<=4){
        document.body.innerHTML = "<h1>Your score is "+number+" out of 5, you may have moderate "+ name+".</h1>";
}
if(number>4){
    document.body.innerHTML = "<h1>Your score is "+number+" out of 5, you may have severe "+ name+".</h1>";

if(number<3){
    document.body.innerHTML = "<h1>Your score is "+number+" out of 5, you likely do not have "+ name+".</h1>";
original_counter++;

}
}
}
test(depressionQuestions,originalQuestions,"depression",0);
test(anxietyQuestions,originalQuestions,"anxiety",1);

         
    </script>
    <form action="https://fjs9830.github.io/CorTrac/mainpage">
    <input type="submit" value="Back" />
</form>
</body>

</html>
